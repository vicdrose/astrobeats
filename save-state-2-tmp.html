<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AstroBeats Cards</title>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: Arial, sans-serif;
}

/* Shader canvas */
canvas#c {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  z-index: -2;
}

/* Overlay for shader */
#shader-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: black;
  opacity: 0.75;
  z-index: -1;
  pointer-events: none;
}

/* UI overlay */
#ui-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  backdrop-filter: blur(4px);
  display: none;
  z-index: 5;
}

/* App wrapper */
.app-wrapper {
  display: flex;
  width: 100vw;
  height: 100vh;
  transition: transform 0.3s ease;
}

.app-wrapper.shifted {
  transform: translateX(-300px); /* slide left when sidebar comes in from right */
}

/* Sidebar on right */
.sidebar {
  position: fixed;
  top: 0; right: 0; /* sidebar on right */
  width: 300px;
  height: 100vh;
  background: rgba(0,0,0,0.85);
  backdrop-filter: blur(8px);
  transform: translateX(100%); /* hide off-screen to the right */
  transition: transform 0.3s ease;
  z-index: 1000;
  display: flex;
  flex-direction: column;
}

.sidebar.open {
  transform: translateX(0);
}

.sidebar-item {
  padding: 16px 20px;
  border-bottom: 1px solid rgba(255,255,255,0.2);
  color: white;
  cursor: pointer;
  font-size: 18px;
  display: flex;
  align-items: center;
  gap: 10px;
}

/* Hamburger on top right */
#hamburger {
  position: fixed;
  top: 20px;
  right: 25px;
  font-size: 24px;
  color: white;
  cursor: pointer;
  z-index: 1010;
}

/* App */
#app {
  position: relative;
  z-index: 1;
  color: #fff;
  padding: 20px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
  border: 2px white solid;
  border-radius: 10px;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  box-sizing: border-box;
  background: rgba(0,0,0,0);
}

h1, h2 {
  text-align: center;
  margin: 10px 0;
}

#cards-container {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  justify-content: center;
  margin-bottom: 20px;
}

.card {
  width: 150px;
  height: 220px;
  perspective: 1000px;
  cursor: pointer;
}

#card4 { height: 260px; }

.card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.card.flip .card-inner { transform: rotateY(180deg); }

.card-front, .card-back {
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 10px;
  backface-visibility: hidden;
  object-fit: cover;
}

.card-back { transform: rotateY(180deg); }

#shuffle-btn {
  display: block;
  margin: 0 auto 20px;
  padding: 10px 20px;
  cursor: pointer;
}

/* Journal Modal */
#journalModal {
  position: fixed;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  width: 90%;
  max-width: 600px;
  background: rgba(0,0,0,0.9);
  backdrop-filter: blur(8px);
  border: 1px solid white;
  padding: 20px;
  border-radius: 12px;
  display: none;
  z-index: 20;
  color: #fff;
}

#journalModal * {
  color: #fff;
}

.modal-close {
  position: absolute;
  top: 10px;
  right: 15px;
  cursor: pointer;
  font-size: 22px;
}

#journalModal textarea {
  width: 100%;
  height: 100px;
  margin-bottom: 10px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.2);
  color: #fff;
  padding: 5px;
  border-radius: 5px;
}

#journal-entries p {
  background: rgba(255,255,255,0.2);
  padding: 5px;
  border-radius: 5px;
  position: relative;
}

#journal-entries button {
  font-size: 0.8rem;
  padding: 2px 5px;
  margin-left: 5px;
}
</style>
</head>
<body>

<canvas id="c"></canvas>
<div id="shader-overlay"></div>
<div id="ui-overlay"></div>

<div id="hamburger"><i class="fas fa-bars"></i></div>

<div class="sidebar" id="sidebar">
  <div class="sidebar-item" id="openJournal">
    <i class="fas fa-book-open"></i> Journal
  </div>
</div>

<div class="app-wrapper">
  <div id="app">
    <h1>AstroBeats Cards</h1>
    <div id="cards-container">
      <div id="card4" class="card"><div class="card-inner"><img class="card-front"><img class="card-back"></div></div>
      <div id="card3" class="card"><div class="card-inner"><img class="card-front"><img class="card-back"></div></div>
      <div id="card2" class="card"><div class="card-inner"><img class="card-front"><img class="card-back"></div></div>
      <div id="card1" class="card"><div class="card-inner"><img class="card-front"><img class="card-back"></div></div>
    </div>
    <button id="shuffle-btn">Shuffle Cards</button>
  </div>
</div>

<!-- Journal Modal -->
<div id="journalModal">
  <span class="modal-close">&times;</span>
  <h2>Journal</h2>
  <textarea id="journal-input" placeholder="Write your journal entry..."></textarea><br>
  <button id="journal-save">Save Entry</button>
  <button id="journal-clear">Clear All</button>
  <button id="closeJournalBottom">Close</button>
  <div id="journal-entries"></div>
</div>

<script>
/* ===== UI SYSTEM ===== */
const hamburger = document.getElementById("hamburger");
const sidebar = document.getElementById("sidebar");
const uiOverlay = document.getElementById("ui-overlay");
const journalModal = document.getElementById("journalModal");
const appWrapper = document.querySelector(".app-wrapper");

function closeAll(){
  sidebar.classList.remove("open");
  journalModal.style.display = "none";
  uiOverlay.style.display = "none";
  appWrapper.classList.remove("shifted");
}

hamburger.addEventListener("click", () => {
  sidebar.classList.toggle("open");
  appWrapper.classList.toggle("shifted");
  uiOverlay.style.display = "block";
});

uiOverlay.addEventListener("click", closeAll);

document.getElementById("openJournal").addEventListener("click", () => {
  sidebar.classList.remove("open");
  journalModal.style.display = "block";
  uiOverlay.style.display = "block";
  appWrapper.classList.remove("shifted");
});

document.querySelector(".modal-close").addEventListener("click", closeAll);
document.getElementById("closeJournalBottom").addEventListener("click", closeAll);

/* ===== ORIGINAL CARDS + JOURNAL LOGIC ===== */
// ... keep all your card and journal JS unchanged ...
</script>
</body>
</html>